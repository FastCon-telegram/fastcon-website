<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FastCon ‚Äî –ú–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü</title>
    <meta name="description" content="FastCon ‚Äî —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –º–æ–±–∏–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –î–æ—Å—Ç—É–ø –∫ –∑–∞—Ä—É–±–µ–∂–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º, –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ 1 –∫–ª–∏–∫.">
    <meta name="theme-color" content="#000000" id="themeColor">
    <meta property="og:title" content="FastCon ‚Äî –ú–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü">
    <meta property="og:description" content="–°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåê</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* ===== DARK THEME (default) ===== */
        :root, [data-theme="dark"] {
            --bg-primary: #000000;
            --bg-secondary: #0a0a0a;
            --text-primary: #f5f5f7;
            --text-secondary: #86868b;
            --accent-blue: #2997ff;
            --accent-green: #30d158;
            --accent-red: #ff453a;
            --accent-yellow: #ffd60a;
            --accent-purple: #bf5af2;
            --card-bg: rgba(255,255,255,0.04);
            --card-border: rgba(255,255,255,0.08);
            --border: rgba(255,255,255,0.1);
            --loader-bg: #000000;
            --globe-stroke: rgba(255,255,255,0.15);
            --globe-fill: rgba(255,255,255,0.03);
            --globe-text: #2997ff;
            --particle-opacity: 0.6;
            --shadow-color: rgba(0,0,0,0.3);
            --ping-bar-excellent: #00ff66;
            --ping-bar-good: #30d158;
            --ping-bar-medium: #ffd60a;
            --ping-bar-bad: #ff453a;
            --ping-text-excellent: #00ff66;
            --ping-text-good: #30d158;
            --ping-text-medium: #ffd60a;
            --ping-text-bad: #ff453a;
            --transition-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --transition-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        /* ===== LIGHT THEME ===== */
        [data-theme="light"] {
            --bg-primary: #e8e4dc;
            --bg-secondary: #dfdbd3;
            --text-primary: #1d1d1f;
            --text-secondary: #5a5a5e;
            --accent-blue: #0066cc;
            --accent-green: #1e7e34;
            --accent-red: #c82333;
            --accent-yellow: #d68f00;
            --accent-purple: #7b1fa2;
            --card-bg: rgba(255,255,255,0.6);
            --card-border: rgba(0,0,0,0.12);
            --border: rgba(0,0,0,0.15);
            --loader-bg: #e8e4dc;
            --globe-stroke: rgba(0,100,180,0.5);
            --globe-fill: rgba(0,100,180,0.08);
            --globe-text: #0066cc;
            --particle-opacity: 0.3;
            --shadow-color: rgba(0,0,0,0.12);
            --ping-bar-excellent: #1e7e34;
            --ping-bar-good: #28a745;
            --ping-bar-medium: #c68f00;
            --ping-bar-bad: #c82333;
            --ping-text-excellent: #1e7e34;
            --ping-text-good: #28a745;
            --ping-text-medium: #b38600;
            --ping-text-bad: #c82333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'SF Pro Display', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            touch-action: manipulation;
            transition: background 0.3s ease, color 0.3s ease;
        }

        /* ===== THEME TOGGLE BUTTON ===== */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px var(--shadow-color);
        }
        .theme-toggle:hover {
            transform: scale(1.1);
            border-color: var(--accent-blue);
        }
        .theme-toggle:active {
            transform: scale(0.95);
        }
        .theme-toggle-icon {
            font-size: 22px;
            transition: transform 0.3s ease;
        }
        .theme-toggle:hover .theme-toggle-icon {
            transform: rotate(20deg);
        }
        [data-theme="dark"] .theme-toggle-sun { display: none; }
        [data-theme="dark"] .theme-toggle-moon { display: block; }
        [data-theme="light"] .theme-toggle-sun { display: block; }
        [data-theme="light"] .theme-toggle-moon { display: none; }

        /* ===== LOADING SCREEN ===== */
        .loader {
            position: fixed;
            inset: 0;
            background: var(--loader-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }
        .loader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .loader-ring {
            width: 50px;
            height: 50px;
            border: 2px solid rgba(255,255,255,0.1);
            border-top-color: var(--accent-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* ===== PARTICLES ===== */
        .particles {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--accent-blue);
            border-radius: 50%;
            opacity: 0;
            animation: particleFloat 15s infinite;
        }
        @keyframes particleFloat {
            0%, 100% { opacity: 0; transform: translateY(100vh) scale(0); }
            10% { opacity: var(--particle-opacity); }
            90% { opacity: var(--particle-opacity); }
            100% { opacity: 0; transform: translateY(-100vh) scale(1); }
        }

        /* ===== MAIN CONTAINER ===== */
        .container {
            position: relative;
            z-index: 1;
            max-width: 980px;
            margin: 0 auto;
            padding: 0 22px;
        }

        /* ===== HERO SECTION ===== */
        .hero {
            min-height: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 80px 0 40px;
            position: relative;
        }

        /* Globe Container */
        .globe-wrapper {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 0 auto 32px auto;
        }

        /* Globe SVG - fills the wrapper */
        .globe-svg {
            width: 100%;
            height: 100%;
            display: block;
        }

        /* Globe inner text - absolutely centered */
        .globe-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            pointer-events: none;
        }
        .globe-brand {
            font-size: 38px;
            font-weight: 700;
            letter-spacing: 3px;
            color: #fff;
            text-shadow: 0 0 40px rgba(41, 151, 255, 0.6), 0 0 80px rgba(41, 151, 255, 0.3);
        }
        [data-theme="light"] .globe-brand {
            color: var(--globe-text);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .globe-tagline {
            font-size: 10px;
            font-weight: 600;
            letter-spacing: 6px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* Decorative rings */
        .globe-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid;
            pointer-events: none;
            animation: ringPulse 4s ease-in-out infinite;
            top: 50%;
            left: 50%;
        }
        .globe-ring-1 {
            width: 320px;
            height: 320px;
            margin-top: -160px;
            margin-left: -160px;
            border-color: rgba(41, 151, 255, 0.2);
        }
        .globe-ring-2 {
            width: 360px;
            height: 360px;
            margin-top: -180px;
            margin-left: -180px;
            border-color: rgba(41, 151, 255, 0.12);
            animation-delay: 1s;
        }
        .globe-ring-3 {
            width: 400px;
            height: 400px;
            margin-top: -200px;
            margin-left: -200px;
            border-color: rgba(41, 151, 255, 0.06);
            animation-delay: 2s;
        }
        /* Light theme rings */
        [data-theme="light"] .globe-ring-1 { border-color: rgba(0, 102, 204, 0.4); border-width: 1.5px; }
        [data-theme="light"] .globe-ring-2 { border-color: rgba(0, 102, 204, 0.3); border-width: 1.5px; }
        [data-theme="light"] .globe-ring-3 { border-color: rgba(0, 102, 204, 0.2); border-width: 1px; }
        @keyframes ringPulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.02); opacity: 1; }
        }

        .globe-wrapper:hover .globe-svg {
            transform: scale(1.05);
            transition: transform 0.6s var(--transition-smooth);
        }
        
        /* Light theme globe SVG */
        [data-theme="light"] .globe-svg circle[stroke="#2997ff"] {
            stroke: #0066cc;
            opacity: 0.5;
        }
        [data-theme="light"] .globe-svg ellipse {
            stroke: rgba(0, 102, 204, 0.35);
        }
        [data-theme="light"] .globe-svg line {
            stroke: rgba(0, 102, 204, 0.25);
        }
        [data-theme="light"] .globe-svg circle[fill="#30d158"] {
            fill: #1e7e34;
        }
        [data-theme="light"] .globe-svg circle[fill="#2997ff"] {
            fill: #0066cc;
        }

        /* Hero Text */
        .hero-headline {
            font-size: 56px;
            font-weight: 700;
            line-height: 1.05;
            letter-spacing: -0.015em;
            margin-bottom: 16px;
            background: linear-gradient(180deg, #fff 0%, #a1a1a6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        [data-theme="light"] .hero-headline {
            background: linear-gradient(180deg, #1d1d1f 0%, #3a3a3c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hero-subheadline {
            font-size: 28px;
            font-weight: 600;
            background: linear-gradient(135deg, var(--accent-blue) 0%, #64d2ff 50%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }
        [data-theme="light"] .hero-subheadline {
            background: linear-gradient(135deg, #0055aa 0%, #0077cc 50%, #0055aa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hero-description {
            font-size: 19px;
            font-weight: 400;
            color: var(--text-secondary);
            max-width: 500px;
            line-height: 1.5;
            text-align: center;
            margin: 0 auto;
        }

        /* ===== SCROLL INDICATOR ===== */
        .scroll-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            margin-top: 24px;
            animation: bounce 2s ease-in-out infinite;
        }
        .scroll-indicator span {
            font-size: 12px;
            color: var(--text-secondary);
            letter-spacing: 1px;
        }
        .scroll-arrow {
            width: 24px;
            height: 24px;
            border-right: 2px solid var(--text-secondary);
            border-bottom: 2px solid var(--text-secondary);
            transform: rotate(45deg);
            opacity: 0.5;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); opacity: 1; }
            50% { transform: translateY(8px); opacity: 0.6; }
        }
        @media (max-width: 480px) {
            .scroll-indicator { margin-top: 16px; }
            .scroll-indicator span { font-size: 11px; }
            .scroll-arrow { width: 20px; height: 20px; }
        }

        /* ===== FEATURES SECTION ===== */
        .features {
            padding: 40px 0 80px;
        }
        .section-title {
            font-size: 48px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 48px;
            letter-spacing: -0.015em;
        }
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
        }
        .feature-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 28px 20px;
            text-align: center;
            transition: all 0.4s var(--transition-smooth);
            cursor: default;
        }
        .feature-card:hover {
            background: rgba(255,255,255,0.08);
            transform: translateY(-8px);
            border-color: var(--accent-blue);
            box-shadow: 0 20px 40px -15px rgba(41, 151, 255, 0.3);
        }
        .feature-icon {
            font-size: 36px;
            margin-bottom: 16px;
        }
        .feature-title {
            font-size: 17px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .feature-desc {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* ===== PRICING SECTION ===== */
        .pricing {
            padding: 80px 0;
        }
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            max-width: 900px;
            margin: 0 auto;
        }
        .price-card {
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            padding: 24px 20px;
            text-align: center;
            position: relative;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        .price-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(41, 151, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
        }
        
        /* Light theme - base price card with visible border */
        [data-theme="light"] .price-card {
            background: rgba(255, 255, 255, 0.5);
            border: 1.5px solid rgba(0, 0, 0, 0.15);
        }
        [data-theme="light"] .price-card:hover {
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }
        
        /* Tier 2 - 3 months */
        .price-card.tier-2 {
            border: 1.5px solid rgba(41, 151, 255, 0.4);
            background: linear-gradient(135deg, rgba(41, 151, 255, 0.08), rgba(41, 151, 255, 0.02));
        }
        .price-card.tier-2:hover {
            border-color: rgba(41, 151, 255, 0.7);
        }
        [data-theme="light"] .price-card.tier-2 {
            border: 2px solid rgba(0, 102, 204, 0.5);
            background: linear-gradient(135deg, rgba(0, 102, 204, 0.1), rgba(255, 255, 255, 0.8));
        }
        
        /* Tier 3 - 6 months */
        .price-card.tier-3 {
            border: 2px solid rgba(255, 149, 0, 0.5);
            background: linear-gradient(135deg, rgba(255, 149, 0, 0.1), rgba(255, 149, 0, 0.02));
        }
        .price-card.tier-3:hover {
            border-color: rgba(255, 149, 0, 0.8);
            box-shadow: 0 8px 32px rgba(255, 149, 0, 0.2);
        }
        [data-theme="light"] .price-card.tier-3 {
            border: 2px solid rgba(214, 143, 0, 0.6);
            background: linear-gradient(135deg, rgba(255, 180, 0, 0.15), rgba(255, 255, 255, 0.8));
        }
        
        /* Tier 4 - 12 months (best) */
        .price-card.tier-4 {
            border: 2.5px solid rgba(48, 209, 88, 0.6);
            background: linear-gradient(135deg, rgba(48, 209, 88, 0.12), rgba(48, 209, 88, 0.03));
            box-shadow: 0 0 20px rgba(48, 209, 88, 0.15);
        }
        .price-card.tier-4:hover {
            border-color: rgba(48, 209, 88, 0.9);
            box-shadow: 0 8px 32px rgba(48, 209, 88, 0.3);
        }
        [data-theme="light"] .price-card.tier-4 {
            border: 2.5px solid rgba(30, 126, 52, 0.6);
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.15), rgba(255, 255, 255, 0.8));
            box-shadow: 0 0 15px rgba(30, 126, 52, 0.1);
        }
        .price-badge {
            display: inline-block;
            color: #fff;
            font-size: 11px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 20px;
            margin-bottom: 12px;
        }
        /* Badge Tier 2 - 22% */
        .price-badge.tier-2 {
            background: linear-gradient(135deg, #2997ff, #5ac8fa);
        }
        /* Badge Tier 3 - 33% */
        .price-badge.tier-3 {
            background: linear-gradient(135deg, #ff9500, #ffcc00);
            animation: pulse-badge-orange 2s infinite;
        }
        @keyframes pulse-badge-orange {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 149, 0, 0.4); }
            50% { box-shadow: 0 0 0 6px rgba(255, 149, 0, 0); }
        }
        /* Badge Tier 4 - 44% */
        .price-badge.tier-4 {
            background: linear-gradient(135deg, #30d158, #00ff66);
            animation: pulse-badge-green 2s infinite;
            font-size: 12px;
            padding: 5px 12px;
        }
        @keyframes pulse-badge-green {
            0%, 100% { box-shadow: 0 0 0 0 rgba(48, 209, 88, 0.5); }
            50% { box-shadow: 0 0 0 8px rgba(48, 209, 88, 0); }
        }
        .price-period {
            font-size: 16px;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }
        .price-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--text-primary);
        }
        .price-currency {
            font-size: 20px;
            font-weight: 500;
        }
        .price-per-month {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 8px;
        }
        .price-card.tier-2 .price-per-month {
            color: #5ac8fa;
        }
        .price-card.tier-3 .price-per-month {
            color: #ffcc00;
        }
        .price-card.tier-4 .price-per-month {
            color: #30d158;
            font-weight: 600;
        }

        /* ===== SERVER STATUS SECTION ===== */
        .servers {
            padding: 80px 0;
        }
        .servers-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            flex-wrap: wrap;
            gap: 16px;
        }
        .servers-header .section-title {
            margin-bottom: 0;
        }
        .ping-all-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border: none;
            border-radius: 12px;
            color: #fff;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .ping-all-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 24px rgba(41, 151, 255, 0.4);
        }
        .ping-all-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .ping-all-btn.pinging {
            animation: pulse-ping 1s infinite;
        }
        @keyframes pulse-ping {
            0%, 100% { box-shadow: 0 0 0 0 rgba(41, 151, 255, 0.4); }
            50% { box-shadow: 0 0 0 12px rgba(41, 151, 255, 0); }
        }
        .ping-all-icon {
            font-size: 18px;
        }
        .servers-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 500px;
            margin: 0 auto;
        }
        .server-card {
            display: flex;
            align-items: center;
            gap: 16px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 16px 20px;
            transition: all 0.3s var(--transition-smooth);
        }
        .server-card:hover {
            background: rgba(255,255,255,0.06);
        }
        [data-theme="light"] .server-card {
            background: rgba(255,255,255,0.6);
            border-color: rgba(0,0,0,0.1);
        }
        [data-theme="light"] .server-card:hover {
            background: rgba(255,255,255,0.9);
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
        }
        .server-flag {
            font-size: 28px;
        }
        .server-flag-img {
            width: 40px;
            height: 30px;
            border-radius: 4px;
            object-fit: cover;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        [data-theme="light"] .server-flag-img {
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        .server-info {
            flex: 1;
        }
        .server-name {
            font-size: 16px;
            font-weight: 600;
        }
        .server-host {
            font-size: 13px;
            color: var(--text-secondary);
            font-family: monospace;
        }
        .server-status {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        /* Ping bars */
        .ping-bars {
            display: flex;
            gap: 3px;
            align-items: flex-end;
            height: 20px;
        }
        .ping-bar {
            width: 6px;
            border-radius: 2px;
            background: rgba(255,255,255,0.15);
            transition: all 0.3s ease;
        }
        .ping-bar:nth-child(1) { height: 5px; }
        .ping-bar:nth-child(2) { height: 9px; }
        .ping-bar:nth-child(3) { height: 13px; }
        .ping-bar:nth-child(4) { height: 18px; }
        
        .ping-bars.level-4 .ping-bar { background: var(--ping-bar-excellent); box-shadow: 0 0 6px var(--ping-bar-excellent); }
        .ping-bars.level-3 .ping-bar:nth-child(-n+3) { background: var(--ping-bar-good); box-shadow: 0 0 6px var(--ping-bar-good); }
        .ping-bars.level-2 .ping-bar:nth-child(-n+2) { background: var(--ping-bar-medium); box-shadow: 0 0 6px var(--ping-bar-medium); }
        .ping-bars.level-1 .ping-bar:nth-child(1) { background: var(--ping-bar-bad); box-shadow: 0 0 6px var(--ping-bar-bad); }
        .ping-bars.level-0 .ping-bar { background: transparent; border: 1px solid var(--border); }
        
        /* Light theme - remove glow effect from ALL levels */
        [data-theme="light"] .ping-bars.level-4 .ping-bar,
        [data-theme="light"] .ping-bars.level-3 .ping-bar,
        [data-theme="light"] .ping-bars.level-2 .ping-bar,
        [data-theme="light"] .ping-bars.level-1 .ping-bar { 
            box-shadow: none !important; 
        }
        
        .ping-value {
            font-size: 13px;
            font-weight: 600;
            min-width: 55px;
            text-align: right;
            color: var(--text-secondary);
        }
        .ping-value.excellent { color: var(--ping-text-excellent); }
        .ping-value.good { color: var(--ping-text-good); }
        .ping-value.medium { color: var(--ping-text-medium); }
        .ping-value.bad { color: var(--ping-text-bad); }
        
        /* Light theme - remove text shadow */
        [data-theme="light"] .ping-value { text-shadow: none; }
        [data-theme="dark"] .ping-value.excellent { text-shadow: 0 0 8px var(--ping-text-excellent); }
        
        .ping-btn {
            background: var(--accent-blue);
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 8px 14px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s var(--transition-bounce);
        }
        .ping-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px -5px rgba(41, 151, 255, 0.5);
        }
        .ping-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .ping-btn.pinging {
            animation: pingPulse 0.5s ease infinite;
        }
        @keyframes pingPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* ===== CTA BUTTONS SECTION ===== */
        .cta-section {
            padding: 60px 0 100px;
        }
        .cta-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 500px;
            margin: 0 auto;
        }
        .cta-btn {
            position: relative;
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px 24px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 16px;
            transition: all 0.4s var(--transition-smooth);
            overflow: hidden;
        }
        .cta-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        .cta-btn:hover::before {
            transform: translateX(100%);
        }
        .cta-btn:hover {
            transform: translateY(-4px);
            border-color: var(--accent-blue);
            box-shadow: 0 20px 40px -15px rgba(41, 151, 255, 0.4);
        }
        .cta-btn.primary {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
        }
        .cta-btn.primary:hover {
            background: #40a9ff;
            box-shadow: 0 20px 40px -10px rgba(41, 151, 255, 0.6);
        }
        .cta-icon {
            font-size: 24px;
            transition: transform 0.3s var(--transition-bounce);
        }
        .cta-btn:hover .cta-icon {
            transform: scale(1.2) rotate(5deg);
        }
        .cta-label { flex: 1; }
        .cta-arrow {
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.3s ease;
        }
        .cta-btn:hover .cta-arrow {
            opacity: 1;
            transform: translateX(0);
        }
        .cta-btn:active {
            transform: scale(0.98);
        }
        @media (hover: none) {
            .cta-btn:active {
                background: rgba(41,151,255,0.15);
                border-color: var(--accent-blue);
            }
            .cta-btn.primary:active {
                background: #40a9ff;
            }
        }

        /* ===== FOOTER ===== */
        .footer {
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid var(--card-border);
        }
        .footer-text {
            font-size: 13px;
            color: var(--text-secondary);
        }
        .footer-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 16px;
        }
        .footer-badge {
            font-size: 12px;
            color: var(--text-secondary);
        }
        .footer-legal {
            margin-top: 20px;
            font-size: 11px;
        }
        .footer-legal a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s;
        }
        .footer-legal a:hover {
            color: var(--accent-blue);
        }
        .footer-legal-divider {
            color: var(--text-secondary);
            margin: 0 10px;
            opacity: 0.5;
        }

        /* ===== ANIMATIONS ===== */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s var(--transition-smooth) forwards;
        }
        @keyframes fadeInUp {
            to { opacity: 1; transform: translateY(0); }
        }
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
        .delay-5 { animation-delay: 0.5s; }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .hero { padding: 60px 0 30px; }
            .hero-headline { font-size: 36px; }
            .hero-subheadline { font-size: 20px; }
            .hero-description { font-size: 15px; padding: 0 10px; }
            .globe-wrapper { width: 240px; height: 240px; margin-bottom: 24px; }
            .globe-brand { font-size: 32px; letter-spacing: 2px; }
            .globe-tagline { font-size: 9px; letter-spacing: 5px; }
            .globe-ring-1 { width: 280px; height: 280px; margin-top: -140px; margin-left: -140px; }
            .globe-ring-2 { width: 320px; height: 320px; margin-top: -160px; margin-left: -160px; }
            .globe-ring-3 { width: 360px; height: 360px; margin-top: -180px; margin-left: -180px; }
            .section-title { font-size: 28px; margin-bottom: 24px; }
            .features { padding: 30px 0 60px; }
            .features-grid { grid-template-columns: repeat(2, 1fr); gap: 12px; }
            .feature-card { padding: 20px 14px; }
            .feature-icon { font-size: 28px; margin-bottom: 10px; }
            .feature-title { font-size: 14px; }
            .feature-desc { font-size: 12px; }
            .servers { padding: 40px 0; }
            .servers-header { flex-direction: column; align-items: center; text-align: center; }
            .ping-all-btn { padding: 10px 20px; font-size: 13px; }
            .pricing { padding: 50px 0; }
            .pricing-grid { grid-template-columns: repeat(2, 1fr); gap: 12px; }
            .price-card { padding: 18px 14px; }
            .price-value { font-size: 28px; }
            .price-period { font-size: 14px; }
            .server-card { padding: 14px 16px; gap: 12px; }
            .server-flag { font-size: 24px; }
            .server-name { font-size: 14px; }
            .server-host { font-size: 11px; }
            .ping-btn { padding: 6px 10px; font-size: 12px; }
            .cta-section { padding: 40px 0 60px; }
            .cta-btn { padding: 16px 18px; font-size: 14px; gap: 12px; }
            .cta-icon { font-size: 20px; }
        }
        @media (max-width: 480px) {
            .hero { padding: 50px 0 24px; }
            .hero-headline { font-size: 28px; }
            .hero-subheadline { font-size: 18px; }
            .hero-description { font-size: 14px; }
            .globe-wrapper { width: 200px; height: 200px; margin-bottom: 20px; }
            .globe-brand { font-size: 26px; letter-spacing: 2px; }
            .globe-tagline { font-size: 8px; letter-spacing: 4px; }
            .globe-ring-1 { width: 240px; height: 240px; margin-top: -120px; margin-left: -120px; }
            .globe-ring-2 { width: 280px; height: 280px; margin-top: -140px; margin-left: -140px; }
            .globe-ring-3 { width: 320px; height: 320px; margin-top: -160px; margin-left: -160px; }
            .section-title { font-size: 24px; }
            .features-grid { gap: 10px; }
            .feature-card { padding: 16px 12px; border-radius: 14px; }
            .feature-icon { font-size: 24px; margin-bottom: 8px; }
            .feature-title { font-size: 13px; }
            .feature-desc { font-size: 11px; }
            .pricing-grid { grid-template-columns: 1fr 1fr; gap: 10px; }
            .price-card { padding: 16px 12px; border-radius: 14px; }
            .price-value { font-size: 24px; }
            .price-period { font-size: 13px; }
            .price-badge { font-size: 10px; padding: 3px 8px; }
            .price-per-month { font-size: 11px; }
            .cta-btn { padding: 14px 16px; font-size: 13px; border-radius: 12px; }
        }
        @media (max-width: 360px) {
            .globe-wrapper { width: 180px; height: 180px; }
            .globe-brand { font-size: 22px; letter-spacing: 1px; }
            .globe-tagline { font-size: 7px; letter-spacing: 3px; }
            .globe-ring-1 { width: 220px; height: 220px; margin-top: -110px; margin-left: -110px; }
            .globe-ring-2 { width: 260px; height: 260px; margin-top: -130px; margin-left: -130px; }
            .globe-ring-3 { width: 300px; height: 300px; margin-top: -150px; margin-left: -150px; }
            .hero-headline { font-size: 24px; }
            .features-grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
        <span class="theme-toggle-icon theme-toggle-sun">‚òÄÔ∏è</span>
        <span class="theme-toggle-icon theme-toggle-moon">üåô</span>
    </button>

    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="loader-ring"></div>
    </div>

    <!-- Particles -->
    <div class="particles" id="particles"></div>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="globe-wrapper fade-in">
                    <svg class="globe-svg" viewBox="0 0 200 200">
                        <defs>
                            <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#2997ff" stop-opacity="0.12"/>
                                <stop offset="100%" stop-color="#2997ff" stop-opacity="0.02"/>
                            </linearGradient>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="2" result="blur"/>
                                <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
                            </filter>
                        </defs>
                        
                        <!-- Globe fill -->
                        <circle cx="100" cy="100" r="78" fill="url(#blueGradient)" opacity="0.5"/>
                        
                        <!-- Main outer circle -->
                        <circle cx="100" cy="100" r="80" fill="none" stroke="#2997ff" stroke-width="1.5" opacity="0.4"/>
                        
                        <!-- Equator -->
                        <ellipse cx="100" cy="100" rx="80" ry="24" fill="none" stroke="rgba(41,151,255,0.25)" stroke-width="1"/>
                        
                        <!-- Upper latitude -->
                        <ellipse cx="100" cy="65" rx="62" ry="15" fill="none" stroke="rgba(41,151,255,0.15)" stroke-width="0.8"/>
                        
                        <!-- Lower latitude -->
                        <ellipse cx="100" cy="135" rx="62" ry="15" fill="none" stroke="rgba(41,151,255,0.15)" stroke-width="0.8"/>
                        
                        <!-- Main meridian -->
                        <ellipse cx="100" cy="100" rx="24" ry="80" fill="none" stroke="rgba(41,151,255,0.25)" stroke-width="1"/>
                        
                        <!-- Side meridian -->
                        <ellipse cx="100" cy="100" rx="55" ry="80" fill="none" stroke="rgba(41,151,255,0.12)" stroke-width="0.8"/>
                        
                        <!-- Center line -->
                        <line x1="100" y1="20" x2="100" y2="180" stroke="rgba(41,151,255,0.15)" stroke-width="0.8"/>
                        
                        <!-- Orbiting dots -->
                        <circle r="3" fill="#30d158" filter="url(#glow)" opacity="0.9">
                            <animateMotion dur="7s" repeatCount="indefinite" path="M20,100 A80,24 0 1,0 180,100 A80,24 0 1,0 20,100"/>
                        </circle>
                        <circle r="2.5" fill="#2997ff" filter="url(#glow)" opacity="0.8">
                            <animateMotion dur="9s" repeatCount="indefinite" path="M100,20 A24,80 0 1,0 100,180 A24,80 0 1,0 100,20"/>
                        </circle>
                    </svg>
                    
                    <div class="globe-text">
                        <div class="globe-brand">FASTCON</div>
                        <div class="globe-tagline">CONNECT FREELY</div>
                    </div>
                    
                    <div class="globe-ring globe-ring-1"></div>
                    <div class="globe-ring globe-ring-2"></div>
                    <div class="globe-ring globe-ring-3"></div>
                </div>

                <h1 class="hero-headline fade-in delay-1">–ú–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</h1>
                <p class="hero-subheadline fade-in delay-2">–±–µ–∑ –≥—Ä–∞–Ω–∏—Ü</p>
                <p class="hero-description fade-in delay-3">
                    –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫.<br>
                    –†–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–º, –≥–¥–µ –¥—Ä—É–≥–∏–µ –Ω–µ —Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è.
                </p>

                <div class="scroll-indicator fade-in delay-4">
                    <span>–õ–∏—Å—Ç–∞–π –≤–Ω–∏–∑</span>
                    <div class="scroll-arrow"></div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="container">
                <h2 class="section-title fade-in">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h2>
                <div class="features-grid">
                    <div class="feature-card fade-in delay-1">
                        <div class="feature-icon">üåç</div>
                        <div class="feature-title">–ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø</div>
                        <div class="feature-desc">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∑–∞—Ä—É–±–µ–∂–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º</div>
                    </div>
                    <div class="feature-card fade-in delay-2">
                        <div class="feature-icon">‚ö°</div>
                        <div class="feature-title">–°–∫–æ—Ä–æ—Å—Ç—å</div>
                        <div class="feature-desc">–°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫</div>
                    </div>
                    <div class="feature-card fade-in delay-3">
                        <div class="feature-icon">üëÜ</div>
                        <div class="feature-title">–û–¥–∏–Ω –∫–ª–∏–∫</div>
                        <div class="feature-desc">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</div>
                    </div>
                    <div class="feature-card fade-in delay-4">
                        <div class="feature-icon">‚àû</div>
                        <div class="feature-title">–ë–µ–∑–ª–∏–º–∏—Ç</div>
                        <div class="feature-desc">–ù–∏–∫–∞–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ç—Ä–∞—Ñ–∏–∫–∞</div>
                    </div>
                    <div class="feature-card fade-in delay-5">
                        <div class="feature-icon">üì±</div>
                        <div class="feature-title">3 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</div>
                        <div class="feature-desc">–û–¥–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –≤—Å—é —Å–µ–º—å—é</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section class="pricing">
            <div class="container">
                <h2 class="section-title fade-in">–¢–∞—Ä–∏—Ñ—ã</h2>
                <div class="pricing-grid">
                    <div class="price-card fade-in delay-1">
                        <div class="price-period">1 –º–µ—Å—è—Ü</div>
                        <div class="price-value">299 <span class="price-currency">‚ÇΩ</span></div>
                    </div>
                    <div class="price-card tier-2 fade-in delay-2">
                        <div class="price-badge tier-2">–í—ã–≥–æ–¥–∞ 22%</div>
                        <div class="price-period">3 –º–µ—Å—è—Ü–∞</div>
                        <div class="price-value">699 <span class="price-currency">‚ÇΩ</span></div>
                        <div class="price-per-month">233 ‚ÇΩ/–º–µ—Å</div>
                    </div>
                    <div class="price-card tier-3 fade-in delay-3">
                        <div class="price-badge tier-3">üî• –í—ã–≥–æ–¥–∞ 33%</div>
                        <div class="price-period">6 –º–µ—Å—è—Ü–µ–≤</div>
                        <div class="price-value">1199 <span class="price-currency">‚ÇΩ</span></div>
                        <div class="price-per-month">200 ‚ÇΩ/–º–µ—Å</div>
                    </div>
                    <div class="price-card tier-4 fade-in delay-4">
                        <div class="price-badge tier-4">üî• –í—ã–≥–æ–¥–∞ 44%</div>
                        <div class="price-period">12 –º–µ—Å—è—Ü–µ–≤</div>
                        <div class="price-value">1999 <span class="price-currency">‚ÇΩ</span></div>
                        <div class="price-per-month">167 ‚ÇΩ/–º–µ—Å</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-grid" id="ctaButtons">
                    <!-- Buttons will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Server Status Section -->
        <section class="servers">
            <div class="container">
                <div class="servers-header">
                    <h2 class="section-title fade-in">–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–æ–≤</h2>
                    <button class="ping-all-btn" id="pingAllBtn" onclick="pingAllServers()">
                        <span class="ping-all-icon">üì°</span>
                        <span class="ping-all-text">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ</span>
                    </button>
                </div>
                <div class="servers-list" id="serversList">
                    <!-- Servers will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p class="footer-text">¬© 2026 FastCon ‚Äî –°–≤–æ–±–æ–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π</p>
                <div class="footer-badges">
                    <span class="footer-badge">üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ</span>
                    <span class="footer-badge">‚ö° –ë—ã—Å—Ç—Ä–æ</span>
                    <span class="footer-badge">üåç –ì–ª–æ–±–∞–ª—å–Ω–æ</span>
                </div>
                <div class="footer-legal">
                    <a href="https://telegra.ph/Polzovatelskoe-soglashenie-Usloviya-ispolzovaniya-FastCon-12-27" target="_blank">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
                    <span class="footer-legal-divider">‚Ä¢</span>
                    <a href="https://telegra.ph/Politika-konfidencialnosti-FastCon-12-27" target="_blank">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                </div>
            </div>
        </footer>
    </main>

    <script>
        // ===== THEME TOGGLE =====
        function initTheme() {
            // Check saved preference first
            const savedTheme = localStorage.getItem('fastcon-theme');
            if (savedTheme) {
                setTheme(savedTheme);
                return;
            }
            
            // Check system preference
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
                setTheme('light');
            } else {
                setTheme('dark');
            }
        }
        
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('fastcon-theme', theme);
            
            // Update meta theme-color
            const themeColor = theme === 'light' ? '#f5f2eb' : '#000000';
            document.getElementById('themeColor').setAttribute('content', themeColor);
        }
        
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
            
            // Add animation to button
            const btn = document.getElementById('themeToggle');
            btn.style.transform = 'scale(0.8) rotate(180deg)';
            setTimeout(() => {
                btn.style.transform = '';
            }, 200);
        }
        
        // Listen for system theme changes
        if (window.matchMedia) {
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                if (!localStorage.getItem('fastcon-theme')) {
                    setTheme(e.matches ? 'dark' : 'light');
                }
            });
        }
        
        // Initialize theme immediately (before page load)
        initTheme();

        // ===== PARTICLES =====
        function createParticles() {
            const container = document.getElementById('particles');
            const colors = ['#2997ff', '#30d158', '#bf5af2'];
            const isMobile = window.innerWidth < 768;
            const particleCount = isMobile ? 12 : 20;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (12 + Math.random() * 8) + 's';
                particle.style.opacity = getComputedStyle(document.documentElement).getPropertyValue('--particle-opacity');
                container.appendChild(particle);
            }
        }

        // ===== LOADER =====
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
            }, 500);
            createParticles();
            trackVisit();
            loadButtons();
            loadServers();
        });

        // ===== COMET ANIMATION ON FIRST TOUCH =====
        let cometTriggered = false;
        
        function triggerComets() {
            if (cometTriggered) return;
            cometTriggered = true;
            
            const globeWrapper = document.querySelector('.globe-wrapper');
            if (!globeWrapper) return;
            
            // Create 3 comets
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const comet = document.createElement('div');
                    comet.style.cssText = `
                        position: absolute;
                        left: -60px;
                        top: ${30 + i * 35}%;
                        width: 50px;
                        height: 3px;
                        background: linear-gradient(90deg, transparent, rgba(41,151,255,0.8), #fff);
                        border-radius: 3px;
                        pointer-events: none;
                        z-index: 20;
                        transform: rotate(${-10 + i * 5}deg);
                    `;
                    globeWrapper.appendChild(comet);
                    
                    comet.animate([
                        { left: '-60px', opacity: 0 },
                        { left: '30%', opacity: 1 },
                        { left: '110%', opacity: 0 }
                    ], {
                        duration: 600,
                        easing: 'ease-out'
                    }).onfinish = () => comet.remove();
                }, i * 80);
            }
        }
        
        // Trigger on first touch/click
        document.addEventListener('touchstart', triggerComets, { once: true, passive: true });
        document.addEventListener('click', triggerComets, { once: true });

        // ===== INTERSECTION OBSERVER FOR ANIMATIONS =====
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationPlayState = 'running';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.fade-in').forEach(el => {
            el.style.animationPlayState = 'paused';
            observer.observe(el);
        });

        // ===== API FUNCTIONS =====
        const API_URL = '';

        // Track visit
        async function trackVisit() {
            try {
                await fetch(API_URL + '/api/visit', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ fingerprint: getFingerprint() })
                });
            } catch (e) {
                console.log('Visit tracking unavailable');
            }
        }

        // Get fingerprint - improved to uniquely identify devices
        function getFingerprint() {
            const data = [];
            
            // Screen properties
            data.push(screen.width + 'x' + screen.height);
            data.push(screen.colorDepth);
            data.push(screen.pixelDepth);
            data.push(window.devicePixelRatio || 1);
            
            // Navigator properties
            data.push(navigator.userAgent);
            data.push(navigator.language);
            data.push(navigator.languages ? navigator.languages.join(',') : '');
            data.push(navigator.hardwareConcurrency || 0);
            data.push(navigator.maxTouchPoints || 0);
            data.push(navigator.platform);
            
            // Timezone
            data.push(Intl.DateTimeFormat().resolvedOptions().timeZone);
            data.push(new Date().getTimezoneOffset());
            
            // Canvas fingerprint
            try {
                const canvas = document.createElement('canvas');
                canvas.width = 200;
                canvas.height = 50;
                const ctx = canvas.getContext('2d');
                ctx.textBaseline = 'top';
                ctx.font = '14px Arial';
                ctx.fillStyle = '#f60';
                ctx.fillRect(10, 10, 100, 30);
                ctx.fillStyle = '#069';
                ctx.fillText('FP', 15, 15);
                ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
                ctx.fillText('FastCon', 50, 15);
                data.push(canvas.toDataURL().slice(-50));
            } catch (e) {
                data.push('canvas-error');
            }
            
            // WebGL info
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (gl) {
                    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                    if (debugInfo) {
                        data.push(gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL));
                        data.push(gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL));
                    }
                }
            } catch (e) {
                data.push('webgl-error');
            }
            
            // Create hash from combined data
            const str = data.join('|||');
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return Math.abs(hash).toString(36) + '-' + btoa(str.slice(0, 100)).slice(0, 20);
        }

        // Track button click
        function trackButtonClick(buttonId) {
            if (buttonId) {
                fetch(API_URL + '/api/click', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ button: buttonId })
                }).catch(() => {});
            }
        }

        // ===== BUTTONS =====
        let buttons = [];

        async function loadButtons() {
            try {
                const res = await fetch(API_URL + '/api/buttons');
                if (res.ok) {
                    buttons = await res.json();
                    renderButtons();
                }
            } catch (e) {
                // Fallback buttons
                buttons = [
                    { id: 'connect', label: '–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è', url: 'https://t.me/obhod_mobilniy_bot', icon: 'üöÄ', primary: true },
                    { id: 'key', label: '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å Telegram', url: '#', icon: 'üîê' },
                    { id: 'channel', label: '–ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞', url: 'https://t.me/fastconnews', icon: 'üì¢' },
                    { id: 'support', label: '–°–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏', url: '#', icon: 'üí¨' }
                ];
                renderButtons();
            }
        }

        function renderButtons() {
            const container = document.getElementById('ctaButtons');
            if (!container) return;

            // Convert object to array if needed
            let btnArray = Array.isArray(buttons) ? buttons : Object.entries(buttons).map(([id, btn]) => ({ id, ...btn }));
            
            container.innerHTML = btnArray.map((btn, index) => `
                <a href="${btn.url}" class="cta-btn ${index === 0 ? 'primary' : ''} fade-in delay-${index + 1}" 
                   data-btn="${btn.id}" target="_blank" onclick="trackButtonClick('${btn.id}')">
                    <span class="cta-icon">${btn.icon}</span>
                    <span class="cta-label">${btn.label}</span>
                    <span class="cta-arrow">‚Üí</span>
                </a>
            `).join('');
        }

        // ===== SERVERS =====
        let servers = [];
        let pingSettings = { level4: 50, level3: 100, level2: 200, level1: 500 };
        let pingMode = 'icmp'; // 'icmp' or 'tcp'

        // Get flag image URL from country code
        function getFlagUrl(countryCode) {
            if (!countryCode || countryCode.length !== 2) {
                return 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 30"><rect fill="%23333" width="40" height="30" rx="3"/><text x="20" y="20" text-anchor="middle" fill="%23888" font-size="14">üåê</text></svg>';
            }
            const code = countryCode.toLowerCase();
            return `https://flagcdn.com/w40/${code}.png`;
        }

        async function loadServers() {
            try {
                const res = await fetch(API_URL + '/api/admin/servers?password=0402036');
                servers = await res.json();
                // Load ping settings
                const pingRes = await fetch(API_URL + '/api/ping-settings');
                if (pingRes.ok) {
                    const settings = await pingRes.json();
                    pingSettings = settings;
                    pingMode = settings.mode || 'icmp';
                }
            } catch (e) {
                servers = [
                    { id: 1, name: 'Frankfurt', host: '185.244.21.156', country: 'DE' },
                    { id: 2, name: 'Cloudflare', host: '1.1.1.1', country: 'US' }
                ];
            }
            renderServers();
        }

        function renderServers() {
            const list = document.getElementById('serversList');
            list.innerHTML = servers.map(server => `
                <div class="server-card fade-in" data-server-id="${server.id}">
                    <img class="server-flag-img" src="${getFlagUrl(server.country)}" alt="${server.country}" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 40 30%22><rect fill=%22%23333%22 width=%2240%22 height=%2230%22 rx=%223%22/><text x=%2220%22 y=%2220%22 text-anchor=%22middle%22 fill=%22%23888%22 font-size=%2212%22>${server.country || '?'}</text></svg>'">
                    <div class="server-info">
                        <div class="server-name">${server.name}</div>
                    </div>
                    <div class="server-status">
                        <div class="ping-bars level-0" id="bars-${server.id}">
                            <div class="ping-bar"></div>
                            <div class="ping-bar"></div>
                            <div class="ping-bar"></div>
                            <div class="ping-bar"></div>
                        </div>
                        <div class="ping-value" id="ping-${server.id}">‚Äî</div>
                    </div>
                </div>
            `).join('');
        }

        async function pingAllServers() {
            const btn = document.getElementById('pingAllBtn');
            btn.disabled = true;
            btn.classList.add('pinging');
            btn.querySelector('.ping-all-text').textContent = '–ü—Ä–æ–≤–µ—Ä—è—é...';
            
            // Ping all servers in parallel
            const promises = servers.map(server => pingServer(server.host, server.id));
            await Promise.all(promises);
            
            btn.disabled = false;
            btn.classList.remove('pinging');
            btn.querySelector('.ping-all-text').textContent = '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ';
        }

        async function pingServer(host, id) {
            const bars = document.getElementById(`bars-${id}`);
            const pingValue = document.getElementById(`ping-${id}`);
            
            if (!bars || !pingValue) return;
            
            pingValue.textContent = '...';
            pingValue.className = 'ping-value';
            
            try {
                // Use mode from settings (icmp or tcp)
                const endpoint = pingMode === 'tcp' 
                    ? `/api/ping-tcp/${encodeURIComponent(host)}`
                    : `/api/ping/${encodeURIComponent(host)}`;
                const res = await fetch(API_URL + endpoint);
                const data = await res.json();
                
                if (data.alive) {
                    const time = data.time;
                    pingValue.textContent = `${time}ms`;
                    
                    // Determine level using dynamic settings
                    let level, colorClass;
                    if (time < pingSettings.level4) {
                        level = 4;
                        colorClass = 'excellent';
                    } else if (time < pingSettings.level3) {
                        level = 3;
                        colorClass = 'good';
                    } else if (time < pingSettings.level2) {
                        level = 2;
                        colorClass = 'medium';
                    } else if (time < pingSettings.level1) {
                        level = 1;
                        colorClass = 'bad';
                    } else {
                        level = 0;
                        colorClass = 'bad';
                    }
                    
                    bars.className = `ping-bars level-${level}`;
                    pingValue.className = `ping-value ${colorClass}`;
                } else {
                    bars.className = 'ping-bars level-0';
                    pingValue.textContent = 'offline';
                    pingValue.className = 'ping-value bad';
                }
            } catch (e) {
                bars.className = 'ping-bars level-0';
                pingValue.textContent = '–æ—à–∏–±–∫–∞';
                pingValue.className = 'ping-value bad';
            }
        }

        // Auto-ping all servers on load
        setTimeout(() => {
            pingAllServers();
        }, 1000);
    </script>
</body>
</html>
